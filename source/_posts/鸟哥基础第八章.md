---
title: 鸟哥基础第八章
tags:
  - 未分类
id: '62'
abbrlink: 1155753965
date: 2012-09-13 14:41:00
---

摘录  

> 硬盘的构造：硬盘片、磁头、机械臂  
> 
> > ![鸟哥基础第八章 - leaf - ------坚持雅操------](http://img2.ph.126.net/q8nWPXT71-HKLbbzEIejMQ==/43910096384630452.jpg "鸟哥基础第八章 - leaf - ------坚持雅操------")
> 
>    
> 
> > 上面的盘片就是硬盘片，能当镜子用  
> > 右下三角形的就是机械臂  
> > 机械臂头上就是磁头，很小很小，是个芯片  
> > 左下是磁铁，应该是操作机械臂用的  
> 
>   
> 
> > 物理扇区是硬盘片上的最小存储物理量，是低级格式化而成的，包括柱面、磁道、扇区都是低级格式化而成的  
> > 传统物理扇区是512B的，现在改为4KB了  
> > 逻辑块是高级格式化后系统操作的最小存储单位，只能是512B的倍数  
> >   
> 
> 文件系统  
> 
> > 高级格式化的时候进行文件系统的选择。文件系统就是对磁盘上的数据如何组织的一种方法。  
> > 就是如何存、如何找(取)的方法。  
> >   
> 
> > ext2文件系统会有2个区域。inode表和块区域  
> > 
> > > inode表是解决如何找的问题。  
> > > 块区域就是负责存放  
> > 
> >   
> > 
> > > inode表存放：文件的属性、文件内容的位置  
> > > 块区域存放：实际内容  
> > > 这里要说一下目录的块区域：  
> > > 
> > > > 目录(文件夹)的块区域是存放的是该目录内的文件的名称和文件存放位置  
> > > > 名称、位置、内容是对应的，这就是目录最重要的功能：关联性  
> > > >   
> > 
> > 注意一点：linux下也不是不要磁盘整理。linux的磁盘整理就是全部复制出来再格式化再复制回去就可以了。  
> >   
> 
> > 查看inode和块的信息命令：dumpe2fs  
> > 
> > > 这个命令是管理员命令，放在/sbin下  
> > > sudo dumpe2fs /dev/sda1  
> > 
> > ![鸟哥基础第八章 - leaf - ------坚持雅操------](http://img6.ph.126.net/kd4xp39MuNM4RpVay0p3IA==/1317584366000404106.jpg "鸟哥基础第八章 - leaf - ------坚持雅操------")
> > 
> >    
> 
> 文件系统的操作命令：  
> 
> > df：查看分区的容量等情况  
> > 
> > > df -h：df默认单位为KB，-h后默认已GB为单位  
> > > df -a：列出所有分区，包括虚拟的/proc分区  
> > > df -T:就是显示分区的文件系统类型，如ext3、ntfs等等  
> > 
> > du：列出某个目录的文件清单和所占容量，默认KB  
> > 
> > > du :仅列目录名称和目录的容量  
> > > du -a：列目录名称和其下的文件及容量  
> > > du -s：仅列总量  
> 
>   
> 关于连接数  
> 
> > mkdir 1  
> > ls -ld  
> > drwxr-xr-x  3 qqq qqq 4096  9月 13 14:20 .  
> > ls -ld 1  
> > drwxrwxr-x  2 qqq qqq 4096  9月 13 14:20 1  
> > 上面的3 和2 就是连接数，空目录连接数为2，多一个目录+1。  
> > 空目录的连接如下  
> > .      当前目录  
> > ..     上一层目录  
> 
> >   
> 
> 分区、格式化等命令  
> 
> > 分区：fdisk、cfdisk  
> > 格式化：mkfs    
> > 
> > > mkfs -t ext3 -L "演示" /dev/sda6  
> 
> > 磁盘检查:fsck  
> > 改卷标：e2lable /dev/sda6 演示2  
> >   
> 
> 挂载命令  
> 
> > 相关文件:/etc/fstab;/etc/mtab  
> > /etc/fstab:系统自动挂载的设备  
> > /etc/mtab:系统当前挂载的设备  
> >   
> > 挂载命令：mount  
> > mkdir /mnt/abc  
> > mount -t iso9660  /dev/cdrom /mnt/abc ：t tpye 就是告知系统以iso9660系统格式来挂载和管理/dev/cdrom设备  
> >   
> > mount -t exit3 -o rw，sync /dev/sda6 /mnt/abc : o参数很有用，可告知对设备的操作权限等  
> > 文件系统参数见P162，.P169  
> >