---
title: 数据链路层
tags:
  - 未分类
id: '254'
abbrlink: 3368314941
date: 2012-11-09 15:35:00
---

网卡：  

> 网卡上面有处理器和存储器。  
> 网卡将计算机信息的并行传输，转为串行传输，发到网络上  
> 网卡包含数据链路层+物理层的功能  

  
  
数据链路层功能  

> 链路管理  
> 
> > 链路的建立、维持和释放  
> 
> 帧定界  
> 
> > 用标志字段F来标记起始结束位置  
> 
> 流量控制  
> 
> > 滑动窗口等技术实现  
> 
> 差错控制  
> 
> > 靠CRC检错，一般就是FCS  
> 
> 将数据和控制信息分开  
> 
> > 使收方能区分控制信息和数据  
> 
> 透明传输  
> 
> > 通过“零比特填充法”等技术使信息里不论包含何种bit组合都能够传输  
> 
> 寻址  
> 
> > MAC寻址  
> >   

关于数据链路层和传输层都有流量控制协议  

> 数据链路层保证每个帧都收到，而不丢失  
> 但是其上层网络层不提供可靠服务，(如收到帧之后丢弃)  
> 所以传输层又用流量控制保证数据包能够完整无误的接收  

  
数据链路层流量控制协议  

> 停止等待协议：  
> 
> > 为防止发送端发出的帧传输过程中有错误或者丢失，接收端每收到一个帧就回发确认帧  
> > 发送端会设置超时计时器，超时后自动重发帧  
> > 确认帧携带的是对n+1帧的请求。说明收到n帧，请求发n+1帧。  
> >   
> 
> 连续ARQ协议：automatic repeater quest 自动重传请求
> 
> > 发送端多个帧一起发，然后等待确认，接收端一个帧一个帧的接收，并回复确认帧，  
> > 如有遗失，则从遗失的帧开始再重新发。  
> > 这里涉及到对帧的编码，发送窗口大小，接收窗口大小  
> > 
> > > 对帧的编码用n=3个bit来编码，则能编8个帧  
> > > 发送窗口最大 2^n-1   也就是7  
> > > 接收窗口最大2^(n-1)  也就是4  
> > 
> > 这里还有一个协议：滑动窗口协议  
> > 
> > >   
> 
> 选择重传ARQ协议：  
> 
> > 发送端多个帧一起发，然后等待确认，接收端多个帧一起收，然后检查有无遗失，  
> > 有遗失则让发送端发遗失的帧，而不用再发遗失后面的已收到的帧  
> 
> >   

  
数据链路层帧结构  

> HDLC帧  

> 帧结构：地址--------控制---------信息---------FCS  
> 
> > > 1B          1B                                  2B  
> > 
> > 控制字段3大类：信息帧、监督帧、无编码帧  
> > 
> > > 信息帧：就是发送序号和确认序号等。  
> > > 监督帧：用于ARQ协议，如发哪个帧，暂停发送帧，拒绝某个帧之后的帧  
> > > 
> > > > > 监督帧不含数据信息，长度48bit  
> > > 
> > > 无编码帧：控制作用  
> 
>   
> PPP帧  
> PPP 提供了不同网络层协议同时在同一链路传输的多路复用技术  
> 如拨号连接就是用这个协议。  
> 帧结构：地址--------控制----------协议----------信息---------FCS  
> 
> > > 1B           1B               2B          <=1500B          2B  
> 
> > 地址：全1字段，由于是点到点，所以地址没什么用  
> > 控制：表示不使用序号，也就是没有流量控制功能。  
> > 协议：标记不同的协议。还有控制功能。  
> 
>   
> 以太网帧  
>   
> 帧中继帧  
>   
> ATM帧